# Lattices

## Vectors

Nothing much to be done here. Just defined my own functions for the operations and solved it.

### Given

$$
\begin{split}
v = (2,6,3)\\
w = (1,0,0)\\
u = (7,7,2)\\
\end{split}
$$

### Solving

$$
\begin{split}
3 \cdot (2 \cdot v - w) \cdot 2 \cdot u = 702
\end{split}
$$

## Size and Basis

Once again, pretty basic. Did the same thing again and solved it.

### Given

$$
\begin{split}
v = (4,6,2,5)
\end{split}
$$

### Solving

$$
\begin{split}
size(v) = \sqrt{v \cdot v} = 9
\end{split}
$$

## Gram Schmidt

Given a basis $v_{1},v_{2},…,v_{n} ∈ V$ for a vector space, the Gram-Schmidt algorithm calculates an orthogonal basis $u_{1},u_{2},…,u_{n} ∈ V$.
This was a simple algorithm to implement, with only a few errors occuring when I set the loop bounds wrong.
Of course, I had already studied this in my Mathematics course, so not a challenging problem.

### Given

$$
\begin{split}
v_{1} = (4,1,3,-1)\\
v_{2} = (2,1,-3,4)\\
v_{3} = (1,0,-2,7)\\
v_{4} = (6,2,9,-5)\\
\end{split}
$$

### Solving

The flag here is the float value of the second component of $u_{4}$ to 5 significant figures.

The orthogonal basis obtained through Gram-Schmidt is:

$$
\begin{split}
u_{1} &= (0.769800358919501, 0.19245008972987526, 0.5773502691896257, -0.19245008972987526)\\
u_{2} &= (0.47808586842086204, 0.21172374172923888, -0.47125607030056393, 0.710299004510995)\\
u_{3} &= (-0.22709712023395856, -0.32046806165419245, 0.6322320524980238, 0.6678396149040454)\\
u_{4} &= (-0.35674669978168144, 0.9030150838223783, 0.21181835299537438, 0.1114833436817765)\\
\end{split}
$$

I kind of made an idiotic mistake here at the end.
Instead of rounding it, I cut it off at the 5th significant figure, which made me keep submitting the wrong answer.
Eventually I figured it out and gave the proper rounded answer of 90302.

## What's a Lattice?

This part introduced the concept of a lattice.
Given a set of linearly independent vectors $v_{1},v_{2},…,v_{n} ∈ R^m$, the lattice $L$ generated by $v_{1},v_{2},…,v_{n}$​ is the set of linearly independent vectors $v_{1},v_{2},…,v_{n}$​ with integer coefficients.

That is,

$$
\begin{split}
L = a_{1} \cdot v_{1} + a_{2} \cdot v_{2} + \dots + a_{k} \cdot v_{k}
\end{split}
$$

where $a_{1},a_{2},\dots,a_{n} ∈ \mathbb{Z}$

Here, the basis for the lattice is any set of independent vectors that can generate it.

What's being asked of us here is to calculate the volume of the fundamental domain.
Volume is the magnitude of the determinant of the matrix with rows corresponding to the basis vectors.

### Given

The basis vectors are:

$$
\begin{split}
v_{1} &= (6,2,-3)\\
v_{2} &= (5,1,4)\\
v_{3} &= (2,7,1)\\
\end{split}
$$

### Solving

I coded the algorithm for finding the determinant of a n-dimensional matrix myself.
It was a simple one, but I was surprised at how so many errors could pop up while doing such a small thing.

$$
\begin{split}
vol(F(v_{1},v_{2},v_{3})) &= |det(A)|\\
&= 255
\end{split}
$$

## Gaussian Reduction

Here, both the **Shortest Vector Problem(SVP)** and the **Closest Vector Problem(CVP)** were introduced.

**Shortest Vector Problem(SVP)**: 

**Closest Vector Problem(CVP)**:

Gaussian Lattice Reduction was developed to find an optimal basis for a two-dimensional lattice given an arbitrary basis, in which the output $v_{1}$ is a shortest non-zero vector in $L$ and thus solves the SVP.

### Given



## Find The Lattice

### Given

#### Key Generation

- $q$ is some 512-bit prime number
- $2<f<\sqrt{\frac{q}{2}}$
- $\sqrt{\frac{q}{4}}<f<\sqrt{\frac{q}{2}}$ and $gcd(f,g)=1$
- $h = f^{-1} \cdot g \mod q$ 
- Now `gen_key()` returns `(q, h), (f, g)`

Here, $(q,h)$ is the public key and $(f,g)$ is the private key.

#### Encryption

- $m<\sqrt{\frac{q}{2}}$ 
- $2<r<\sqrt{\frac{q}{2}}$
- $e=r \cdot h + m \mod q$
- Now, `encrypt(q, h, m)` returns `e`

Here, `(q, h)` is the public key generated, `m` the message to be encrypted, and `e` the encrypted message.

#### Decryption

- $a=f \cdot e \mod q$
- $m=a \cdot f^{-1} \mod g$
- Now, `decrypt(q, h, f, g, e)` returns `m`

Here, `(q, h)` is the public key generated, `(f, g)` the private key, `e` the encrypted message, and `m` the original message.

### Solving

$$
\begin{split}
e &= r \cdot h + m \mod q \\
  &= r \cdot f^{-1} \cdot g + m \mod q
\end{split}
$$

$$
\begin{split}
a &= f \cdot e \mod q \\
  &= f \cdot (r \cdot f^{-1} \cdot g + m) \mod q \\
  &= rg + fm \mod q
\end{split}
$$

